<section>
  <h3>CSS Masks & Clipping üé≠</h3>
  <div class="baseline-badge widely">‚úÖ Widely Available (2023)</div>
</section>

<section>
  <h4>What are Masks and Clipping?</h4>
  <p>Create complex shapes and hide parts of elements:</p>
  <ul>
    <li><code>clip-path</code> - Cut element into shapes</li>
    <li><code>mask-image</code> - Use image as mask</li>
    <li><code>mask-mode</code> - Alpha vs luminance masking</li>
    <li><code>mask-size</code>, <code>mask-position</code> - Control mask</li>
  </ul>
</section>

<section>
  <h4>Clip Path: Basic Shapes</h4>
  <pre><code class="language-css">/* Circle */
.circle {
  clip-path: circle(50%);
}

/* Triangle */
.triangle {
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
}

/* Hexagon */
.hexagon {
  clip-path: polygon(
    30% 0%, 70% 0%, 100% 50%, 
    70% 100%, 30% 100%, 0% 50%
  );
}

/* Star */
.star {
  clip-path: polygon(
    50% 0%, 61% 35%, 98% 35%, 68% 57%,
    79% 91%, 50% 70%, 21% 91%, 32% 57%,
    2% 35%, 39% 35%
  );
}</code></pre>
</section>

<section>
  <h4>Interactive Demo: Clip Path Shapes</h4>
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 2rem; padding: 2rem; background: #1a1a2e; border-radius: 8px;">
    <style>
      .clip-demo {
        width: 150px;
        height: 150px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: bold;
        margin: 0 auto;
      }
      
      .clip-circle {
        clip-path: circle(50%);
      }
      
      .clip-triangle {
        clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
      }
      
      .clip-hexagon {
        clip-path: polygon(30% 0%, 70% 0%, 100% 50%, 70% 100%, 30% 100%, 0% 50%);
      }
      
      .clip-star {
        clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
      }
      
      .clip-arrow {
        clip-path: polygon(0% 20%, 60% 20%, 60% 0%, 100% 50%, 60% 100%, 60% 80%, 0% 80%);
      }
    </style>
    <div>
      <div class="clip-demo clip-circle">Circle</div>
      <p style="text-align: center; margin-top: 1rem; color: white;">circle(50%)</p>
    </div>
    <div>
      <div class="clip-demo clip-triangle">Triangle</div>
      <p style="text-align: center; margin-top: 1rem; color: white;">polygon()</p>
    </div>
    <div>
      <div class="clip-demo clip-hexagon">Hexagon</div>
      <p style="text-align: center; margin-top: 1rem; color: white;">polygon()</p>
    </div>
    <div>
      <div class="clip-demo clip-star">Star</div>
      <p style="text-align: center; margin-top: 1rem; color: white;">polygon()</p>
    </div>
    <div>
      <div class="clip-demo clip-arrow">Arrow</div>
      <p style="text-align: center; margin-top: 1rem; color: white;">polygon()</p>
    </div>
  </div>
</section>

<section>
  <h4>Animated Clip Paths</h4>
  <pre><code class="language-css">/* Reveal animation */
@keyframes reveal {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

.reveal {
  animation: reveal 1s ease-out;
}

/* Morphing shapes */
.morphing {
  clip-path: circle(30%);
  transition: clip-path 0.5s ease;
}

.morphing:hover {
  clip-path: circle(50%);
}</code></pre>
</section>

<section>
  <h4>CSS Masks: Image Masking</h4>
  <pre><code class="language-css">/* Use image as mask */
.masked-image {
  mask-image: url('mask.png');
  mask-size: cover;
  mask-position: center;
}

/* Gradient mask for fade effect */
.fade-bottom {
  mask-image: linear-gradient(
    to bottom, 
    black 0%, 
    black 70%, 
    transparent 100%
  );
}

/* Radial gradient mask */
.spotlight {
  mask-image: radial-gradient(
    circle at center,
    black 0%,
    transparent 70%
  );
}</code></pre>
</section>

<section>
  <h4>Practical Example: Text Masking</h4>
  <pre><code class="language-css">/* Background visible through text */
.text-mask {
  font-size: 5rem;
  font-weight: bold;
  background: url('background.jpg');
  background-size: cover;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  color: transparent;
}

/* Animated gradient text */
.gradient-text {
  background: linear-gradient(
    90deg,
    #667eea, #764ba2, #f093fb, #667eea
  );
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient 3s linear infinite;
}

@keyframes gradient {
  to { background-position: 200% center; }
}</code></pre>
</section>

<section>
  <h4>Combining Masks and Filters</h4>
  <pre><code class="language-css">/* Create vignette effect */
.vignette {
  position: relative;
}

.vignette::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(
    circle,
    transparent 50%,
    black 150%
  );
  pointer-events: none;
  mix-blend-mode: multiply;
}

/* Torn paper effect */
.torn-paper {
  mask-image: url('torn-edge.svg');
  mask-size: 100% 100%;
  filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
}</code></pre>
</section>

<section>
  <h4>Creative Effects Gallery</h4>
  <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; padding: 1.5rem; background: #f5f5f5; border-radius: 8px;">
    <style>
      .effect-card {
        height: 200px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 8px;
        position: relative;
        overflow: hidden;
      }
      
      .fade-mask {
        mask-image: linear-gradient(to bottom, black 50%, transparent);
      }
      
      .diagonal-mask {
        mask-image: linear-gradient(135deg, black 50%, transparent);
      }
      
      .spotlight-mask {
        mask-image: radial-gradient(circle at 30% 30%, black 30%, transparent 60%);
      }
      
      .wave-mask {
        mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1200 120'%3E%3Cpath d='M0,0 C300,100 900,100 1200,0 L1200,120 L0,120 Z' fill='black'/%3E%3C/svg%3E");
        mask-size: cover;
      }
    </style>
    <div>
      <div class="effect-card fade-mask"></div>
      <p style="text-align: center; margin-top: 0.5rem;">Fade Mask</p>
    </div>
    <div>
      <div class="effect-card diagonal-mask"></div>
      <p style="text-align: center; margin-top: 0.5rem;">Diagonal Mask</p>
    </div>
    <div>
      <div class="effect-card spotlight-mask"></div>
      <p style="text-align: center; margin-top: 0.5rem;">Spotlight Effect</p>
    </div>
    <div>
      <div class="effect-card wave-mask"></div>
      <p style="text-align: center; margin-top: 0.5rem;">Wave Mask</p>
    </div>
  </div>
</section>

<section>
  <h4>Browser Support</h4>
  <ul>
    <li>‚úÖ <strong>clip-path:</strong> Chrome 55+, Firefox 54+, Safari 9.1+</li>
    <li>‚úÖ <strong>mask-image:</strong> Chrome 120+, Firefox 53+, Safari 15.4+</li>
    <li>‚ö†Ô∏è Use vendor prefixes for masks: <code>-webkit-mask-image</code></li>
    <li>üìä Baseline: Widely available (2023)</li>
  </ul>
  <div class="resources">
    <p><strong>Resources:</strong></p>
    <ul>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path" target="_blank">MDN: clip-path</a></li>
      <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/mask-image" target="_blank">MDN: mask-image</a></li>
      <li><a href="https://bennettfeely.com/clippy/" target="_blank">Clippy - CSS clip-path maker</a></li>
    </ul>
  </div>
</section>

<section>
  <h4>Key Takeaways</h4>
  <ul>
    <li>‚úÖ clip-path for geometric shapes (circles, polygons, paths)</li>
    <li>‚úÖ mask-image for complex alpha/luminance masking</li>
    <li>‚úÖ Combine with filters for advanced effects</li>
    <li>‚úÖ Animate clip-path for morphing transitions</li>
    <li>‚úÖ Use gradient masks for fades and spotlights</li>
    <li>‚ö†Ô∏è Test cross-browser, especially for masks</li>
  </ul>
</section>
