<section data-transition="convex">
  <section>
    <h2>Math Functions</h2>
    <div class="baseline-badge widely">âœ… Widely Available (2020)</div>
    <p class="fragment">Calculations that <mark>scale</mark> & <mark>adapt</mark></p>
  </section>

  <section>
    <h3>The Math <mark>Toolkit</mark></h3>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem; font-size: 0.9rem;">
      <div class="fragment">
        <h4>calc()</h4>
        <pre><code class="language-css">/* Mix units */
width: calc(100% - 2rem);

/* Complex calculations */
font-size: calc(1rem + 2vw);

/* Nesting works! */
padding: calc(var(--space) * 2);</code></pre>
      </div>

      <div class="fragment">
        <h4>min() / max()</h4>
        <pre><code class="language-css">/* Responsive width with max */
width: min(90%, 1200px);

/* Minimum padding */
padding: max(1rem, 3vw);

/* Multiple values */
width: min(500px, 100%, 90vw);</code></pre>
      </div>

      <div class="fragment">
        <h4>clamp()</h4>
        <pre><code class="language-css">/* Fluid typography */
font-size: clamp(
  1rem,    /* min */
  2.5vw,   /* preferred */
  2rem     /* max */
);

/* Responsive spacing */
padding: clamp(1rem, 5vw, 4rem);</code></pre>
      </div>

      <div class="fragment">
        <h4>calc-size()</h4>
        <pre><code class="language-css">/* Intrinsic sizing calculations */
width: calc-size(auto, size + 2rem);

/* Works with content-based sizes */
height: calc-size(max-content, 
                   size * 0.8);</code></pre>
      </div>
    </div>
  </section>

  <section>
    <h3>Fluid Typography with <mark>clamp()</mark></h3>
    <div class="code-demo-split">
      <div class="code-example">
        <pre><code class="language-css">/* Old way - media queries */
h1 {
  font-size: 2rem;
}

@media (min-width: 768px) {
  h1 { font-size: 2.5rem; }
}

@media (min-width: 1024px) {
  h1 { font-size: 3rem; }
}

/* New way - fluid scaling */
h1 {
  font-size: clamp(2rem, 5vw, 3rem);
  /* Smoothly scales between 2rem and 3rem */
  /* No breakpoints needed! */
}

/* Complete type scale */
:root {
  --step-0: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
  --step-1: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
  --step-2: clamp(1.563rem, 1.35rem + 1vw, 2rem);
  --step-3: clamp(1.953rem, 1.65rem + 1.5vw, 2.827rem);
}</code></pre>
      </div>

      <div class="demo">
        <div style="padding: 1.5rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border-radius: 1rem;">
          <h1 style="margin: 0; font-size: clamp(1.5rem, 4vw, 2.5rem);">Fluid Heading</h1>
          <p style="margin: 1rem 0 0; font-size: clamp(0.875rem, 2vw, 1.125rem); opacity: 0.9;">
            This text scales smoothly with viewport width. Resize your browser to see it in action!
          </p>
          <div style="margin-top: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.2); border-radius: 0.5rem; font-size: 0.85rem;">
            <code>font-size: clamp(1.5rem, 4vw, 2.5rem)</code>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section>
    <h3>Practical <mark>Examples</mark></h3>
    <div style="display: grid; gap: 1.5rem; margin-top: 2rem; font-size: 0.85rem;">
      <div class="fragment" style="background: #f8fafc; padding: 1.5rem; border-radius: 0.75rem; border: 2px solid #e2e8f0;">
        <h4 style="margin-top: 0;">Responsive Container</h4>
        <pre><code class="language-css">.container {
  width: min(90%, 1200px);
  margin-inline: auto;
  padding-inline: max(1rem, 5vw);
}</code></pre>
      </div>

      <div class="fragment" style="background: #f8fafc; padding: 1.5rem; border-radius: 0.75rem; border: 2px solid #e2e8f0;">
        <h4 style="margin-top: 0;">Fluid Grid Gaps</h4>
        <pre><code class="language-css">.grid {
  display: grid;
  gap: clamp(1rem, 3vw, 2rem);
  grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
}</code></pre>
      </div>

      <div class="fragment" style="background: #f8fafc; padding: 1.5rem; border-radius: 0.75rem; border: 2px solid #e2e8f0;">
        <h4 style="margin-top: 0;">Aspect Ratio Box</h4>
        <pre><code class="language-css">.box {
  width: min(500px, 100%);
  height: calc(min(500px, 100%) * 9 / 16); /* 16:9 ratio */
}</code></pre>
      </div>
    </div>
  </section>
</section>
