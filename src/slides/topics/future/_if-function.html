<section>
  <h3>Conditional CSS: if() Function üîÄ</h3>
  <div class="baseline-badge limited">üî¥ Proposal Stage</div>
</section>

<section>
  <h4>What is the if() Function?</h4>
  <p>Ternary operator for CSS values:</p>
  <ul>
    <li>Conditional logic without media/container queries</li>
    <li>Similar to JavaScript's <code>condition ? true : false</code></li>
    <li>Works with custom properties</li>
    <li>Enables style-based conditions</li>
    <li>‚ö†Ô∏è Currently a CSSWG proposal</li>
  </ul>
</section>

<section>
  <h4>Proposed Syntax</h4>
  <pre><code class="language-css">/* Basic if() syntax */
.element {
  /* if(condition, value-if-true, value-if-false) */
  color: if(
    style(--theme: dark),
    white,
    black
  );
  
  /* Nested conditions */
  font-size: if(
    style(--size: large),
    2rem,
    if(
      style(--size: medium),
      1.5rem,
      1rem
    )
  );
}</code></pre>
</section>

<section>
  <h4>Example: Theme Switching</h4>
  <pre><code class="language-css">:root {
  --theme: light;
}

[data-theme="dark"] {
  --theme: dark;
}

.card {
  background: if(
    style(--theme: dark),
    #1a1a2e,
    #ffffff
  );
  
  color: if(
    style(--theme: dark),
    #f5f5f5,
    #1a1a2e
  );
  
  border-color: if(
    style(--theme: dark),
    #374151,
    #e5e7eb
  );
}</code></pre>
</section>

<section>
  <h4>Example: Component States</h4>
  <pre><code class="language-css">.button {
  --state: default;
  
  background: if(
    style(--state: disabled),
    #9ca3af,
    if(
      style(--state: primary),
      #667eea,
      #e5e7eb
    )
  );
  
  color: if(
    style(--state: disabled),
    #6b7280,
    if(
      style(--state: primary),
      white,
      #1f2937
    )
  );
  
  cursor: if(
    style(--state: disabled),
    not-allowed,
    pointer
  );
}

.button[disabled] { --state: disabled; }
.button.primary { --state: primary; }</code></pre>
</section>

<section>
  <h4>Example: Responsive Without Media Queries</h4>
  <pre><code class="language-css">/* Based on container width */
.card {
  --layout: auto;
  
  display: if(
    style(--layout: wide),
    flex,
    block
  );
  
  flex-direction: if(
    style(--layout: wide),
    row,
    column
  );
  
  gap: if(
    style(--layout: wide),
    2rem,
    1rem
  );
}

@container (min-width: 600px) {
  .card {
    --layout: wide;
  }
}</code></pre>
</section>

<section>
  <h4>Example: Numerical Comparisons</h4>
  <pre><code class="language-css">/* Proposed extended syntax */
.progress-bar {
  --progress: 75; /* 0-100 */
  
  /* Color based on value */
  background: if(
    var(--progress) > 80,
    #10b981, /* green */
    if(
      var(--progress) > 50,
      #f59e0b, /* yellow */
      #ef4444  /* red */
    )
  );
  
  /* Width */
  width: calc(var(--progress) * 1%);
}

/* Alternative: use style queries when available */
.progress-bar {
  background: if(
    style(--status: success),
    #10b981,
    if(
      style(--status: warning),
      #f59e0b,
      #ef4444
    )
  );
}</code></pre>
</section>

<section>
  <h4>Comparison with @when/@else</h4>
  <pre><code class="language-css">/* if() function - inline conditions */
.element {
  color: if(style(--dark), white, black);
}

/* @when/@else - block-level conditions */
@when style(--dark) {
  .element {
    color: white;
    background: #1a1a2e;
    border-color: #374151;
  }
}
@else {
  .element {
    color: black;
    background: white;
    border-color: #e5e7eb;
  }
}

/* Use if() for single properties */
/* Use @when/@else for multiple properties */</code></pre>
</section>

<section>
  <h4>Current Workarounds</h4>
  <pre><code class="language-css">/* Workaround 1: Multiple selectors */
.card { background: white; }
.dark .card { background: #1a1a2e; }

/* Workaround 2: Custom property fallbacks */
.card {
  --bg-light: white;
  --bg-dark: #1a1a2e;
  background: var(--bg, var(--bg-light));
}
.dark { --bg: var(--bg-dark); }

/* Workaround 3: Space toggle technique */
:root {
  --dark: ; /* empty = false */
}
.dark {
  --dark: initial; /* has value = true */
}
.card {
  background: var(--dark, white) var(--dark, #1a1a2e);
  /* Shows first value if --dark is empty */
}</code></pre>
</section>

<section>
  <h4>Potential Use Cases</h4>
  <ul>
    <li>‚úÖ Theme switching without duplicating styles</li>
    <li>‚úÖ Component state management</li>
    <li>‚úÖ Responsive layouts based on container size</li>
    <li>‚úÖ Dynamic color schemes</li>
    <li>‚úÖ Accessibility preferences (reduced motion, contrast)</li>
    <li>‚úÖ Form validation styles</li>
    <li>‚úÖ Loading/error states</li>
  </ul>
</section>

<section>
  <h4>Proposal Status & Timeline</h4>
  <ul>
    <li>üìã <strong>Status:</strong> CSSWG Active Discussion</li>
    <li>üóìÔ∏è <strong>Proposal:</strong> 2023-2024</li>
    <li>üîç <strong>Related:</strong> Style Queries, @when/@else</li>
    <li>‚è≥ <strong>Implementation:</strong> Not yet in browsers</li>
    <li>üéØ <strong>Estimated:</strong> 2025-2027</li>
    <li>‚ö†Ô∏è <strong>Syntax may change</strong> during discussion</li>
  </ul>
  <div class="resources">
    <p><strong>Resources:</strong></p>
    <ul>
      <li><a href="https://github.com/w3c/csswg-drafts/issues/5009" target="_blank">CSSWG Issue #5009: if() function</a></li>
      <li><a href="https://github.com/w3c/csswg-drafts/issues/8148" target="_blank">CSSWG Issue #8148: @when/@else</a></li>
      <li><a href="https://css.oddbird.net/rwd/style-queries/" target="_blank">Style Queries Explainer</a></li>
    </ul>
  </div>
</section>

<section>
  <h4>How to Prepare</h4>
  <pre><code class="language-css">/* Structure your code to be migration-ready */

/* Current approach */
:root {
  --theme: light;
}

.component {
  --bg: var(--bg-light, white);
  --text: var(--text-light, black);
  
  background: var(--bg);
  color: var(--text);
}

[data-theme="dark"] {
  --bg: var(--bg-dark, #1a1a2e);
  --text: var(--text-dark, white);
}

/* Future approach (when available) */
.component {
  background: if(style(--theme: dark), #1a1a2e, white);
  color: if(style(--theme: dark), white, black);
}
</code></pre>
</section>

<section>
  <h4>Key Takeaways</h4>
  <ul>
    <li>üîÆ if() brings conditional logic to CSS values</li>
    <li>‚ö†Ô∏è Currently in proposal stage (no browser support)</li>
    <li>‚úÖ Simpler than creating multiple selectors</li>
    <li>‚úÖ Works inline (unlike @when/@else blocks)</li>
    <li>‚úÖ Great for themes, states, and responsive design</li>
    <li>üìÖ Use current workarounds until available</li>
    <li>üëÄ Follow CSSWG for syntax updates</li>
  </ul>
</section>
